---
name: review-final
description: 긍정/부정 리뷰를 종합해 최종 코드 리뷰 판정을 내립니다. "최종 리뷰해줘", "종합 리뷰해줘", "리뷰 결론 내줘", "머지해도 될까?", "PR 승인해도 돼?"라고 할 때 트리거합니다. positive-reviewer와 negative-reviewer 결과를 받아 최종 판단을 내리는 스킬입니다.
---

# 최종 코드 리뷰 스킬 (Final Review)

긍정/부정 리뷰 결과를 종합해 최종 승인 판정과 우선순위 행동 계획을 제시한다.
개발자가 즉시 행동할 수 있는 명확한 결론을 내린다.

## 판정 기준

### ✅ Approve (즉시 머지 가능)
- Critical 문제 없음
- Major 문제 2건 이하이며 non-blocking
- 코드 품질이 전반적으로 팀 기준 이상

### ✅ Approve with Suggestions (조건부 승인)
- Critical 문제 없음
- Major 문제가 있지만 다음 PR에서 처리 가능
- 긍정적 측면이 문제점보다 뚜렷하게 우세

### 🔄 Request Changes (수정 후 재검토)
- Critical 문제 1건 이상
- Major 문제 3건 이상
- 아키텍처 또는 비즈니스 로직의 근본적 문제

### ❌ Reject (재설계 필요)
- 전체 구조 재설계가 필요한 수준
- 보안 취약점이 존재
- 비즈니스 요구사항 자체를 잘못 이해한 구현

## 출력 템플릿

```markdown
# 🔍 최종 코드 리뷰

## 판정: [✅ Approve / ✅ Approve with Suggestions / 🔄 Request Changes / ❌ Reject]

> [판정 이유를 1-2문장으로 요약]

---

## 종합 분석

### 긍정적 리뷰 요약
[positive-reviewer 결과에서 핵심 강점 3-5가지 추출]
- ✅ [강점 1]
- ✅ [강점 2]
- ✅ [강점 3]

### 부정적 리뷰 요약
[negative-reviewer 결과에서 핵심 문제 우선순위별 정리]
- 🔴 Critical: [X건] — [주요 내용]
- 🟡 Major: [X건] — [주요 내용]
- 🟢 Minor: [X건] — [주요 내용]

---

## 즉시 처리 필요 (머지 전)

> 이 항목들은 머지 전 반드시 수정해야 합니다.

- [ ] [Critical/Major 항목 1] — `파일명:라인` → [한 줄 수정 방향]
- [ ] [Critical/Major 항목 2] — `파일명:라인` → [한 줄 수정 방향]

---

## 다음 PR에서 처리 (머지 후 백로그)

- [ ] [Minor/Major 항목] — `파일명` → [개선 방향]
- [ ] [Minor/Major 항목] — `파일명` → [개선 방향]

---

## 팀 공유 가치가 있는 패턴

> 이 PR에서 발견된 좋은 패턴으로, 다른 코드에도 적용을 권장합니다.

| 패턴 | 발견 위치 | 적용 상황 |
|------|---------|---------|
| [패턴명] | `파일명` | [적용 상황] |

---

## 코드 품질 점수

| 항목 | 점수 | 이유 |
|------|------|------|
| 아키텍처 | ⭐⭐⭐⭐☆ | [이유] |
| 성능 | ⭐⭐⭐⭐☆ | [이유] |
| 코드 품질 | ⭐⭐⭐⭐☆ | [이유] |
| 사용자 경험 | ⭐⭐⭐☆☆ | [이유] |
| 테스트 | ⭐⭐⭐☆☆ | [이유] |
| **종합** | **⭐⭐⭐⭐☆** | |

---

## 리뷰어 코멘트

[개발자에게 전달할 격려/조언 메시지. 문제점을 지적하면서도 개발자의 노력을 인정하는 건설적인 톤으로 작성.]
```

## 작성 원칙

- 판정은 명확하게 하나만 선택한다 — 애매한 판정 금지
- "즉시 처리"와 "다음 PR"을 엄격하게 구분한다
- 머지 전 수정 요청은 개수를 최소화한다 (Critical + 핵심 Major만)
- 리뷰어 코멘트는 건설적이고 존중하는 톤으로 작성한다
- 팀 전체가 배울 수 있는 인사이트를 반드시 포함한다
- 모든 출력은 한국어로 작성한다
