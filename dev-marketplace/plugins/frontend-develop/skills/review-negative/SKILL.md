---
name: review-negative
description: 프론트엔드 코드의 문제점, 버그, 개선 필요 사항을 분석합니다. "부정적으로 리뷰해줘", "문제점 찾아줘", "개선할 점 알려줘", "버그 찾아줘", "안티패턴 검사해줘"라고 할 때 트리거합니다. 코드 리뷰 시 positive-reviewer와 쌍으로 실행하며, final-reviewer가 마지막에 종합합니다.
---

# 부정적 코드 리뷰 스킬 (Negative Review)

코드의 문제점, 잠재적 버그, 성능 이슈, 안티패턴을 날카롭게 발굴한다.
문제 지적에 그치지 않고 **구체적인 개선 방안**을 함께 제시한다.

## 리뷰 체크리스트

### 🔴 Critical (즉시 수정 필요)
- 실제 버그가 발생할 수 있는 코드
- 보안 취약점 (XSS, 인증 누락 등)
- 무한 루프, 메모리 누수 가능성
- 타입 안전성이 완전히 무너진 부분 (`any` 남용 등)

### 🟡 Major (이번 PR 내 수정 권장)
- 성능 문제 (불필요한 리렌더링, 병렬 처리 누락)
- FSD 레이어 위반 (상위 레이어 → 하위 레이어 역방향 import)
- 에러 핸들링 누락 (빈 상태, 에러 상태 미처리)
- 잘못된 useEffect 의존성 배열

### 🟢 Minor (백로그 또는 다음 PR)
- 가독성 개선 (변수명, 함수명)
- 코드 중복 (DRY 원칙 위반)
- 스타일 컨벤션 불일치
- 테스트 부재

## 리뷰 관점

### 1. 버그 & 로직 오류
- 경계값 처리 누락
- 비동기 경쟁 조건(Race Condition)
- 타입 불일치로 인한 런타임 오류 가능성
- 조건문 논리 오류

### 2. 성능 안티패턴
- 렌더 함수 내 객체/함수 생성 (리렌더링 유발)
- useEffect에서 불필요한 의존성
- 큰 컴포넌트 미분리 (React.memo 활용 불가)
- 동기 처리해야 할 비동기 or 반대

### 3. 아키텍처 위반
- FSD 레이어 역방향 의존성
- 비즈니스 로직이 UI 컴포넌트 안에 있는 경우
- Props Drilling이 3단계 이상인 경우
- God Component (한 컴포넌트가 너무 많은 역할)

### 4. 사용자 경험 결핍
- 로딩 상태 미구현
- 에러 메시지 없음 또는 불친절함
- 빈 상태(Empty State) 미처리
- 접근성 속성 누락

### 5. 유지보수 위험
- 하드코딩된 값 (매직 넘버, 매직 스트링)
- 복잡한 중첩 삼항 연산자
- 주석 없는 복잡한 로직
- 테스트 불가능한 구조

## 출력 템플릿

```markdown
# ❌ 부정적 코드 리뷰

## 총평
[코드 전체에 대한 냉정한 총평 2-3문장]

---

## 🔴 Critical — 즉시 수정 필요

### [문제명]
**위치**: `파일명:라인번호`
**문제 코드**:
\`\`\`tsx
// 문제가 있는 코드
\`\`\`
**문제**: [무엇이 왜 문제인지 구체적으로]
**개선 방안**:
\`\`\`tsx
// 수정된 코드
\`\`\`

---

## 🟡 Major — 이번 PR 내 수정 권장

### [문제명]
- **위치**: `파일명`
- **문제**: [설명]
- **개선**: [구체적인 개선 방법]

---

## 🟢 Minor — 다음 PR 또는 백로그

- `파일명`: [문제 설명] → [개선 방향]

---

## 전체 문제 요약

| 심각도 | 건수 | 주요 카테고리 |
|--------|------|------------|
| 🔴 Critical | X건 | [카테고리] |
| 🟡 Major | X건 | [카테고리] |
| 🟢 Minor | X건 | [카테고리] |
```

## 작성 원칙

- 모든 문제 지적에 개선 코드를 함께 제공한다 — 지적만 하고 해결책 없음 금지
- 개인적 취향이 아닌 객관적 기준(성능, 버그, 표준)으로 판단한다
- 심각도를 명확히 구분한다 (Critical/Major/Minor 혼용 금지)
- 모든 문제는 재현 가능한 상황이나 코드 위치를 명시한다
- 모든 출력은 한국어로 작성한다
